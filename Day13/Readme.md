# Day 13 - Cookies and Tokens in Web Development

## What I Learned Today

Today, I learned about cookies and tokens, especially how they are used for authentication and session management in web applications. I explored their implementation in Node.js using Express, and how they work together to secure user data and manage user sessions.

---

## Cookies: The Basics

**First Principles:**
- A cookie is a small piece of data stored on the client (browser) by the server.
- Cookies are sent with every HTTP request to the server, allowing the server to recognize returning users.
- Cookies can store session identifiers, preferences, or authentication tokens.

**How Cookies Work:**
1. **Set by Server:** The server sends a `Set-Cookie` header in the HTTP response.
2. **Stored by Browser:** The browser saves the cookie and includes it in future requests to the same server.
3. **Used for Identification:** The server reads the cookie to identify the user or session.

**Types of Cookies:**
- **Session Cookies:** Deleted when the browser closes.
- **Persistent Cookies:** Remain until a set expiration date.
- **HttpOnly Cookies:** Not accessible via JavaScript, reducing XSS risks.
- **Secure Cookies:** Sent only over HTTPS.

---

## Tokens: The Basics

**First Principles:**
- A token is a string (often a JWT - JSON Web Token) that encodes information about the user or session.
- Tokens are generated by the server and given to the client after successful authentication.
- The client sends the token with each request (often in headers or cookies) to prove their identity.

**How Tokens Work:**
1. **User Logs In:** The server verifies credentials and creates a token (e.g., JWT).
2. **Token Sent to Client:** The token is sent to the client, often stored in a cookie or local storage.
3. **Token Sent with Requests:** The client includes the token in future requests.
4. **Server Verifies Token:** The server checks the token’s validity and grants access if valid.

**JWT Structure:**
- **Header:** Type and algorithm.
- **Payload:** User data (e.g., user ID, email).
- **Signature:** Ensures the token is not tampered with.

---

## Cookies vs Tokens

- **Cookies** are a storage mechanism; **tokens** are a way to represent and verify identity.
- Cookies can store tokens, making it easy to send them with every request.
- Using `HttpOnly` cookies to store tokens helps protect against XSS attacks.

---

## Example from Today’s Code

- On registration, a JWT token is created and sent to the client as a cookie.
- On protected routes, the server reads the token from the cookie, verifies it, and allows access if valid.

---

## Why Use Cookies and Tokens?

- **Stateless Authentication:** Tokens allow the server to remain stateless, as all user info is in the token.
- **Security:** Cookies (with `HttpOnly` and `Secure` flags) help protect tokens from client-side attacks.
- **Scalability:** Stateless tokens make it easier to scale applications.

---

## Summary

Understanding cookies and tokens from first principles helps build secure, scalable web applications. Cookies are a way to store data on the client, while tokens are a way to represent and verify user identity. Together, they form the backbone of modern authentication systems.
